package com.leammin.leetcode.easy;

import com.leammin.leetcode.util.test.AbstractTest;
import com.leammin.leetcode.util.test.Testsuite;

import java.util.ArrayList;
import java.util.List;

/**
 * <a href="https://leetcode.cn/problems/toggle-light-bulbs/">3842. 切换灯泡开关</a>
 *
 * <p>给你一个整数数组 <code>bulbs</code>，其中每个元素的取值范围为 1 到 100。</p>
 *
 * <p>有 100 个电灯泡，按从 1 到 100 编号，初始时所有灯泡均为关闭状态。</p>
 *
 * <p>对于数组 <code>bulbs</code> 中的每一个元素 <code>bulbs[i]</code>，执行以下操作：</p>
 *
 * <ul>
 * 	<li>如果第 <code>bulbs[i]</code>&nbsp;个灯泡当前是关闭状态，将其打开。</li>
 * 	<li>如果第 <code>bulbs[i]</code>&nbsp;个灯泡当前是打开状态，将其关闭。</li>
 * </ul>
 *
 * <p>返回一个整数列表，表示最终处于打开状态的灯泡编号，<strong>按升序排列</strong>。如果没有灯泡是打开的，返回一个空列表。</p>
 *
 * <p>&nbsp;</p>
 *
 * <p><strong class="example">示例 1：</strong></p>
 *
 * <div class="example-block">
 * <p><strong>输入：</strong> bulbs<span class="example-io"> = [10,30,20,10]</span></p>
 *
 * <p><strong>输出：</strong> <span class="example-io">[20,30]</span></p>
 *
 * <p><strong>解释：</strong></p>
 *
 * <ul>
 * 	<li>第 <code>bulbs[0] = 10</code>&nbsp;个灯泡当前是关闭状态，将其打开。</li>
 * 	<li>第 <code>bulbs[1] = 30</code>&nbsp;个灯泡当前是关闭状态，将其打开。</li>
 * 	<li>第 <code>bulbs[2] = 20</code>&nbsp;个灯泡当前是关闭状态，将其打开。</li>
 * 	<li>第 <code>bulbs[3] = 10</code> 个灯泡当前是打开状态，将其关闭。</li>
 * 	<li>最终，第 20 个和第 30 个灯泡处于打开状态。</li>
 * </ul>
 * </div>
 *
 * <p><strong class="example">示例 2：</strong></p>
 *
 * <div class="example-block">
 * <p><strong>输入：</strong> bulbs<span class="example-io"> = [100,100]</span></p>
 *
 * <p><strong>输出：</strong> <span class="example-io">[]</span></p>
 *
 * <p><strong>解释：</strong></p>
 *
 * <ul>
 * 	<li>第 <code>bulbs[0] = 100</code>&nbsp;个灯泡当前是关闭状态，将其打开。</li>
 * 	<li>第 <code>bulbs[1] = 100</code>&nbsp;个灯泡当前是打开状态，将其关闭。</li>
 * 	<li>最终，没有灯泡处于打开状态。</li>
 * </ul>
 * </div>
 *
 * <p>&nbsp;</p>
 *
 * <p><strong>提示：</strong></p>
 *
 * <ul>
 * 	<li><code>1 &lt;= bulbs.length &lt;= 100</code></li>
 * 	<li><code>1 &lt;= bulbs[i] &lt;= 100</code></li>
 * </ul>
 *
 *
 * @author Leammin
 * @date 2026-02-16
 */
public interface ToggleLightBulbs {
    List<Integer> toggleLightBulbs(List<Integer> bulbs);

    static Testsuite<ToggleLightBulbs> testsuite() {
        return Testsuite.<ToggleLightBulbs>builder()
                .addExpected(t -> t.toggleLightBulbs(List.of(10, 30, 20, 10)), List.of(20, 30))
                .addExpected(t -> t.toggleLightBulbs(List.of(100, 100)), List.of())
                .build();
    }

    class Solution implements ToggleLightBulbs {

        @Override
        public List<Integer> toggleLightBulbs(List<Integer> bulbs) {
            boolean[] status = new boolean[101];
            for (Integer b: bulbs) {
                status[b] = !status[b];
            }
            List<Integer> result = new ArrayList<>();
            for (int i = 0; i < status.length; i++) {
                if (status[i]) {
                    result.add(i);
                }
            }
            return result;
        }
    }
}

class ToggleLightBulbsTest extends AbstractTest<ToggleLightBulbs> {}
